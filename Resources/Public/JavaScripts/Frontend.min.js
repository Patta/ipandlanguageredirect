function IpandlanguageredirectFrontend(){"use strict";function e(e,n,t){var a;"permanent"===t?(a=(t=new Date).getTime(),t.setTime(a+=31536e6),document.cookie=e+"="+n+"; expires="+t.toUTCString()+"; path=/"):document.cookie=e+"="+n+"; path=/"}var t=this,n="fadein",a={r:1},r="temp",i=!1,u=(this.initialize=function(){u(),d(),o(),z()&&f(w(),x())},function(){-1!==window.location.search.indexOf("ipandlanguagedebug=1")&&(i=!0,console.log("ipandlanguageredirect debug activated"))}),d=function(){g(),c()},o=function(){l(),s()},g=function(){var e,n=y("data-ipandlanguageredirect-action","hideMessage");for(e in n)n.hasOwnProperty(e)&&(n[e].onclick=function(){L(),b()})},c=function(){var e=E("h");"1"!==e&&"3"!==e||(L(),b())},l=function(){var e,n=y("data-ipandlanguageredirect-action","disableRedirect");for(e in n)n.hasOwnProperty(e)&&(n[e].onclick=function(){T()})},s=function(){var e=E("h");"2"!==e&&"3"!==e||T()},f=function(e,n){var t;e?((t=new XMLHttpRequest).onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(this.responseText),p(e))},t.open("POST",C(e,n),!0),t.send()):console.log("No ajax URI given!")},p=function(e){if(e.activated&&Array.isArray(e.events))for(var n in e.events)e.events.hasOwnProperty(n)&&""!==e.events[n]&&t[e.events[n]+"Event"](e)},v=(this.redirectEvent=function(e){M()?i&&console.log("Cookie already set"):(e=A(e.redirectUri),T(),i?(console.log("Cookie set and redirect to following URI:"),console.log(e)):window.location=e)},this.suggestEvent=function(e){var n;F()||(n=A(e.redirectUri),i?(console.log("Suggest the following URI:"),console.log(n)):(v(e),h()))},function(e){m("data-ipandlanguageredirect-container","link").setAttribute("href",e.redirectUri)}),h=function(){m("data-ipandlanguageredirect-container","suggest").classList.add(n)},b=function(){m("data-ipandlanguageredirect-container","suggest").classList.remove(n)},A=function(e){return C(e,a)},w=function(){var e=_();return null!==e?e.getAttribute("data-ipandlanguageredirect-ajaxuri"):""},_=function(){return document.getElementById("ipandlanguageredirect_container")},m=function(e,n){var t,a=y(e,n);for(t in a)if(a.hasOwnProperty(t)&&a[t].getAttribute(e)===n)return a[t];return null},y=function(e,n){return document.querySelectorAll("["+e+'="'+n+'"]')},x=function(){return{"tx_ipandlanguageredirect_redirect[browserLanguage]":I(),"tx_ipandlanguageredirect_redirect[ipAddress]":U(),"tx_ipandlanguageredirect_redirect[referrer]":k(),"tx_ipandlanguageredirect_redirect[languageUid]":P(),"tx_ipandlanguageredirect_redirect[rootpageUid]":R(),"tx_ipandlanguageredirect_redirect[countryCode]":S(),"tx_ipandlanguageredirect_redirect[domain]":q()}},I=function(){var e=null,n=_();return e=null===(e=null!==n&&n.hasAttribute("data-ipandlanguageredirect-browserlanguage")?n.getAttribute("data-ipandlanguageredirect-browserlanguage"):e)?O():e},O=function(){var e=navigator.language||navigator.userLanguage;return(e=void 0!==navigator.languages&&void 0!==navigator.languages[0]?navigator.languages[0]:e).split("-")[0]},U=function(){var e="",n=_();return e=null!==n&&n.hasAttribute("data-ipandlanguageredirect-ipaddress")?n.getAttribute("data-ipandlanguageredirect-ipaddress"):e},k=function(){var e=null,n=_();return e=null===(e=null!==n&&n.hasAttribute("data-ipandlanguageredirect-referrer")?n.getAttribute("data-ipandlanguageredirect-referrer"):e)?document.referrer:e},P=function(){var e=0,n=_();return null!==n&&n.hasAttribute("data-ipandlanguageredirect-languageuid")&&(n=n.getAttribute("data-ipandlanguageredirect-languageuid"),e=parseInt(n)),e},R=function(){var e=1,n=_();return null!==n&&n.hasAttribute("data-ipandlanguageredirect-rootpageuid")&&(n=n.getAttribute("data-ipandlanguageredirect-rootpageuid"),e=parseInt(n)),e},S=function(){var e="",n=_();return e=null!==n&&n.hasAttribute("data-ipandlanguageredirect-countrycode")&&null!==(n=n.getAttribute("data-ipandlanguageredirect-countrycode"))?n:e},q=function(){var e="",n=_();return e=null!==n&&n.hasAttribute("data-ipandlanguageredirect-domain")&&null!==(n=n.getAttribute("data-ipandlanguageredirect-domain"))?n:e},z=function(){return null!==_()&&"1"!==E("r")},C=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(-1!==e.indexOf("?")?e+="&":e+="?",e+=t+"="+n[t]);return e},E=function(n){var t,a=null;return window.location.search.substr(1).split("&").forEach(function(e){(t=e.split("="))[0]===n&&(a=decodeURIComponent(t[1]))}),a},F=function(){return"1"===j("ipandlanguageredirect_hidemessage")},M=function(){return"1"===j("ipandlanguageredirect_disableredirect")},L=function(){e("ipandlanguageredirect_hidemessage","1",r)},T=function(){e("ipandlanguageredirect_disableredirect","1",r)},j=function(e){for(var n=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var r=t[a];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return""}}var Ipandlanguageredirect=new window.IpandlanguageredirectFrontend;Ipandlanguageredirect.initialize();